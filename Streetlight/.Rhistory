hist(day(weather$datetime),breaks = seq(0,24,1))
head(weather$datetime$mday)
hist(day(weather$datetime),breaks = seq(0,10,1))
hist(mday(weather$datetime),breaks = seq(0,10,1))
hist(mday(weather$datetime),breaks = seq(0,31,1))
hist(yday(weather$datetime),breaks = seq(0,31,1))
hist(yday(weather$datetime),breaks = seq(0,365,1))
x <- hist(yday(weather$datetime),breaks = seq(0,365,1))
x
print(x)
plot(x)
x <- hist(mday(weather$datetime),breaks = seq(0,365,1))
plot(x)
x <- hist(wday(weather$datetime),breaks = seq(0,365,1))
weather <- weather[!is.na(weather),]
weather <- read.table('2013 weather data.txt',header = TRUE,fill=TRUE)
str(weather)
weather <- weather[!is.na(weather),]
weather$datetime <- as.POSIXct(as.character(weather$YR..MODAHRMN),format="%Y%m%d%H%M",origin="1970-01-01")
summary(weather$datetime)
weather <- read.table('2013 weather data.txt',header = TRUE,fill=TRUE)
str(weather)
table(!is.na(weather))
weather$datetime <- as.POSIXct(as.character(weather$YR..MODAHRMN),format="%Y%m%d%H%M",origin="1970-01-01")
summary(weather$datetime)
weather_NA <- weather[!is.na(weather$datetime),]
ggplot(weather$datetime)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1))
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1))
e <- ggplot(weather)+geom_histogram(aes(x=ydat(datetime)),breaks=seq(0,365,1))
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1))
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1))
e <- ggplot(weather)+geom_histogram(aes(x=ydat(datetime)),breaks=seq(0,365,1))
grid.arrange(a,b,c,d,e,ncol=1)
grid.arrange(a,b,c,d,e,ncol=1)
knitr::opts_knit$set(root.dir = normalizePath("path"))
path <- "E:/"
library(tidyverse)
library(lubridate)
library(grid)
grid.arrange(a,b,c,d,e,ncol=1)
install.packages("gridExtra")
knitr::opts_knit$set(root.dir = normalizePath("path"))
path <- "E:/"
library(tidyverse)
library(lubridate)
library(gridExtra)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1))
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1))
e <- ggplot(weather)+geom_histogram(aes(x=ydat(datetime)),breaks=seq(0,365,1))
grid.arrange(a,b,c,d,e,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1))
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1))
e <- ggplot(weather)+geom_histogram(aes(x=yday(datetime)),breaks=seq(0,365,1))
grid.arrange(a,b,c,d,e,ncol=1)
weather <- weather[!is.na(weather$datetime),]
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1))
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1))
e <- ggplot(weather)+geom_histogram(aes(x=yday(datetime)),breaks=seq(0,365,1))
grid.arrange(a,b,c,d,e,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1))
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1))
e <- ggplot(weather)+geom_histogram(aes(x=yday(datetime)),breaks=seq(0,365,1))
grid.arrange(a,b,c,d,e,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime),color='grey'),breaks=seq(0,60,1))+
scale_x_continuous()
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime),color='white'),breaks=seq(0,60,1))+
scale_x_continuous()
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime),color="white"),breaks=seq(0,60,1))+
scale_x_continuous()
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
ggplot(weather)+geom_histogram(aes(x=minute(datetime),color="white"),breaks=seq(0,60,1))+
ggplot(weather)+geom_histogram(aes(x=minute(datetime),color="white"),breaks=seq(0,60,1))
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime),color="white"),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime),fill="white"),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime),fill="white"),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime),fill="white"),breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime),color="white"),breaks=seq(0,60,1))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime),color="white"),breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=log(minute(datetime))),breaks=seq(0,60,1),color="white")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))+scale_x_continuous(breaks = seq(0, 24, 2))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=-log(minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))+scale_x_continuous(breaks = seq(0, 24, 2))
a <- ggplot(weather)+geom_histogram(aes(x=-log(minute(datetime))),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))+scale_x_continuous(breaks = seq(0, 24, 2))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))+scale_x_continuous(breaks = seq(0, 24, 2))
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))+scale_x_continuous(breaks = seq(0, 24, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,23,1))+scale_x_continuous(breaks = seq(0, 24, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,23,1))+scale_x_continuous(breaks = seq(0, 23, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))+scale_x_continuous(breaks = seq(0, 23, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
table(hour(weather$datetime))
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,24,1))+scale_x_continuous(breaks = seq(0, 243, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,30,1))+scale_x_continuous(breaks = seq(0, 243, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,30,1))+scale_x_continuous(breaks = seq(0, 24, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
weather <- weather[!is.na(weather$datetime),]
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,30,1))+scale_x_continuous(breaks = seq(0, 24, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,23,1))+scale_x_continuous(breaks = seq(0, 24, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
a <- ggplot(weather)+geom_histogram(aes(x=minute(datetime)),breaks=seq(0,60,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count - (log10)")
b <- ggplot(weather)+geom_histogram(aes(x=hour(datetime)),color="white",breaks=seq(0,23,1))+scale_x_continuous(breaks = seq(0, 23, 2))+labs(x="Hours",y="Count")
grid.arrange(a,b,ncol=1)
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1))
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1))
e <- ggplot(weather)+geom_histogram(aes(x=yday(datetime)),breaks=seq(0,365,1))
grid.arrange(c,d,e,ncol=1)
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Week Day",y="Count")
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Month Day",y="Count")
e <- ggplot(weather)+geom_histogram(aes(x=yday(datetime)),breaks=seq(0,365,1),color="white")+scale_x_continuous(breaks = seq(0, 60, 2))+scale_y_log10()+labs(x="Minutes",y="Count")
grid.arrange(c,d,e,ncol=1)
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1),color="white")+scale_x_continuous(breaks = seq(0, 7, 2))+scale_y_log10()+labs(x="Week Day",y="Count")
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1),color="white")+scale_x_continuous(breaks = seq(0, 31, 2))+scale_y_log10()+labs(x="Month Day",y="Count")
e <- ggplot(weather)+geom_histogram(aes(x=yday(datetime)),breaks=seq(0,365,1),color="white")+scale_x_continuous(breaks = seq(0, 365, 2))+scale_y_log10()+labs(x="Minutes",y="Count")
grid.arrange(c,d,e,ncol=1)
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1),color="white")+scale_x_continuous(breaks = seq(0, 7, 2))+labs(x="Week Day",y="Count")
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1),color="white")+scale_x_continuous(breaks = seq(0, 31, 2))+labs(x="Month Day",y="Count")
e <- ggplot(weather)+geom_histogram(aes(x=yday(datetime)),breaks=seq(0,365,1),color="white")+scale_x_continuous(breaks = seq(0, 365, 2))+labs(x="Minutes",y="Count")
grid.arrange(c,d,e,ncol=1)
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1),color="white")+scale_x_continuous(breaks = seq(0, 7, 1))+labs(x="Week Day",y="Count")
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1),color="white")+scale_x_continuous(breaks = seq(0, 31, 2))+labs(x="Month Day",y="Count")
e <- ggplot(weather)+geom_histogram(aes(x=yday(datetime)),breaks=seq(0,365,1),color="white")+labs(x="Year Day",y="Count")
grid.arrange(c,d,e,ncol=1)
c <- ggplot(weather)+geom_histogram(aes(x=wday(datetime)),breaks=seq(0,7,1),color="white")+scale_x_continuous(breaks = seq(0, 7, 1))+labs(x="Week Day",y="Count")
d <- ggplot(weather)+geom_histogram(aes(x=mday(datetime)),breaks=seq(0,31,1),color="white")+scale_x_continuous(breaks = seq(0, 31, 2))+labs(x="Month Day",y="Count")
e <- ggplot(weather)+geom_histogram(aes(x=yday(datetime)),breaks=seq(0,365,1))+labs(x="Year Day",y="Count")
grid.arrange(c,d,e,ncol=1)
summary(yday(weather$datetime))
summary(count(yday(weather$datetime)))
min(table(weather$datetime))
(table(weather$datetime))
table(yday(weather$datetime))
min(table(yday(weather$datetime)))
min(tail(table(yday(weather$datetime))))
(table(yday(weather$datetime)))
weather %>% mutate(yday=yday(datetime)) %>% group_by(yday) %>% summarise(count=count(datetime)) %>% arrange(desc(count)) %>% print(n=10)
weather %>% mutate(yday=as.factor(yday(datetime))) %>% group_by(yday) %>% summarise(count=count(datetime)) %>% arrange(desc(count)) %>% print(n=10)
weather %>% mutate(yday=as.factor(yday(weather$datetime))) %>% group_by(yday) %>% summarise(count=count(datetime)) %>% arrange(desc(count)) %>% print(n=10)
weather %>% mutate(yday=as.numeric(yday(weather$datetime))) %>% group_by(yday) %>% summarise(count=count(datetime)) %>% arrange(desc(count)) %>% print(n=10)
weather %>% mutate(yday=yday(datetime)) %>% group_by(yday) %>% summarise(count=count(yday)) %>% arrange(desc(count)) %>% print(n=10)
weather %>% mutate(yday=yday(weather$datetime)) %>% group_by(yday) %>% summarise(count=count(datetime)) %>% arrange(desc(count)) %>% print(n=10)
weather %>% mutate(yday=as.numeric(yday(weather$datetime))) %>% group_by(yday) %>% summarise(count=count(datetime)) %>% arrange(desc(count)) %>% print(n=10)
r <- weather %>% mutate(yday=yday(weather$datetime))
r <- weather %>% mutate(yday=yday(weather$datetime)) %>% group_by(yday) %>% summarise(count=count(yday)) %>% arrange(desc(count)) %>% print(n=10)
r <- weather %>% mutate(yday=as.factor(yday(weather$datetime))) %>% group_by(yday) %>% summarise(count=count(yday)) %>% arrange(desc(count)) %>% print(n=10)
r <- weather %>% mutate(yday=as.character(yday(weather$datetime))) %>% group_by(yday) %>% summarise(count=count(yday)) %>% arrange(desc(count)) %>% print(n=10)
count(weather$datetime)
weather%>% count(datetime)
weather%>% count(yday(datetime))
weather%>% count=count(yday(datetime)) %>% arrange()
weather%>% count(yday(datetime))
weather%>% count(yday(datetime)) %>% arrange(desc(yday(datetime)))
weather %>% count(yday(datetime)) %>% arrange(desc(.))
weather %>% count(yday(datetime),sort=TRUE)
weather %>% count(yday(datetime),sort=TRUE) %>% arrange(desc(n))
weather %>% count(yday(datetime),sort=TRUE) %>% arrange(n)
weather %>% add_count(yday(datetime),sort=TRUE) %>% arrange(n)
weather %>% count(yday(datetime),sort=TRUE) %>% arrange(n)
head(seq(from=ymd(20130101),length.out = ymd(20140101)),by= "15 mins")
head(seq(from=ymd(20130101),ymd(20140101)),by= "15 mins")
head(seq(ymd(20130101),ymd(20140101)),by= "15 mins")
(seq(ymd(20130101),ymd(20140101)),by= "15 mins")
seq(ymd(20130101),ymd(20140101)),by= "15 mins")
seq(ymd(20130101),ymd(20140101)),by= 5)
seq(ymd(20130101),ymd(20140101),by= "15 mins")
seq(ymd(20130101),ymd(20140101),by= "15 minute")
seq(ymd(20130101),ymd(20140101),by=5)
seq(ymd(20130101),ymd(20140101),by=miute(15))
seq(ymd(20130101),ymd(20140101),by=minute(15))
seq(ymd(20130101),ymd(20140101),by="5 min")
seq(ISOdate(2013,01,1),ISOdate(20140101),by="5 min")
seq(ISOdate(2013,01,1),ISOdate(2014,01,01),by="5 min")
head(seq(ISOdate(2013,01,1),ISOdate(2014,01,01),by="15 min"))
head(seq(as.POSIXct("2013,01,1",format="%y,%m,%d"),as.POSIXct("2014,01,1",format="%y,%m,%d"),by="15 min"))
head(seq(as.POSIXct("2013,01,01",format="%y,%m,%d"),as.POSIXct("2014,01,01",format="%y,%m,%d"),by="15 min"))
as.POSIXct("2013,01,01",format="%y,%m,%d")
as.POSIXct("2013,01,01",format="%Y,%m,%d")
head(seq(as.POSIXct("2013,01,01",format="%Y,%m,%d"),as.POSIXct("2014,01,01",format="%Y,%m,%d"),by="15 min"))
tail(seq(as.POSIXct("2013,01,01",format="%Y,%m,%d"),as.POSIXct("2014,01,01",format="%Y,%m,%d"),by="15 min"))
seq_15min_2013 <-seq(as.POSIXct("2013,01,01",format="%Y,%m,%d"),as.POSIXct("2014,01,01",format="%Y,%m,%d"),by="15 min")
seq_15min_2013 <-seq(as.POSIXct("2013,01,01",format="%Y,%m,%d"),as.POSIXct("2014,01,01",format="%Y,%m,%d"),by="15 min")
head(seq_15min_2013)
tail(seq_15min_2013)
seq_15min_2013 <-seq(as.POSIXct("2013,01,01",format="%Y,%m,%d"),as.POSIXct("2014,01,01",format="%Y,%m,%d"),by="15 min")
head(seq_15min_2013)
print(_____________)
seq_15min_2013 <-seq(as.POSIXct("2013,01,01",format="%Y,%m,%d"),as.POSIXct("2014,01,01",format="%Y,%m,%d"),by="15 min")
head(seq_15min_2013)
print("_____________")
tail(seq_15min_2013)
seq_15min_2013 <-seq(as.POSIXct("2013,01,01",format="%Y,%m,%d"),as.POSIXct("2014,01,01",format="%Y,%m,%d"),by="15 min")
Print(head(seq_15min_2013))
seq_15min_2013 <-seq(as.POSIXct("2013,01,01",format="%Y,%m,%d"),as.POSIXct("2014,01,01",format="%Y,%m,%d"),by="15 min")
print(head(seq_15min_2013))
print("_____")
print(tail(seq_15min_2013))
View(control)
install.packages("readtext")
knitr::opts_knit$set(root.dir = "C:/Users/Declan/Desktop/Data/R/Streetlight/Streetlight/TH_36_Manning_Expanded_Updated_8041_Travel")
library(tidyverse)
library(lubridate)
library(gridExtra)
library(reshape2)
library(zoo)
library(rgdal)
library(readtext)
project <- readtext("Project_OD_MF.txt")
rm(lsit=ls())
rm(list=ls())
project <- readtext("Project_OD_MF.txt")
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)
View(project)
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project[10,1]
project[,1] = as.character(c(1:10))
project[,1] = as.character('1')
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project[,1] == as.character(c(1:10))
project[,1] == as.character(1)
lapply(project[,1], function(x) x==as.character(c(1:10)))
lapply(project[,1], function(x) any(x==as.character(c(1:10))))
slapply(project[,1], function(x) any(x==as.character(c(1:10))))
sapply(project[,1], function(x) any(x==as.character(c(1:10))))
mapply(project[,1], function(x) any(x==as.character(c(1:10))))
lapply(project[,1], function(x) any(x==as.character(c(1:10))))
apply(project[,1], function(x) any(x==as.character(c(1:10))))
apply(project,1, function(x) any(x==as.character(c(1:10))))
project$binary <-  apply(project,1, function(x) any(x==as.character(c(1:10))))
project$binary <-  apply(project,1, function(x) any(as.character(x)==as.character(c(1:10))))
project$binary <-  apply(project,1, function(x) any(x==c(1:10)))
project$binary <-  apply(project,1, function(x) any(as.numeric(x)==c(1:10)))
class(project$variable[14,1])
(project$variable[14,1])
(project$variable[10,1])
(project$variable)
class(project)
project[,1]
project[16,1]
class(project$variable[14])
class(project$variable[9:18])
apply(project,1,class)
apply(project,1,function(x) x==1)
apply(project,2,function(x) x==1)
apply(project$variable,1,function(x) x==1)
apply(project$variable,function(x) x==1)
lapply(project$variable,function(x) x==1)
lapply(project$variable,function(x) x==c(1:10))
lapply(project$variable,function(x) x==c(0:10))
apply(project$variable,1,function(x) x==c(0:10))
apply(project,1,function(x) x==c(0:10))
sapply(project,1,function(x) x==c(0:10))
sapply(project$variable,function(x) x==c(0:10))
lapply(project$variable,function(x) x==c(0:10))
lapply(project$variable,function(x) any(x==c(0:10)))
unlist(lapply(project$variable,function(x) any(x==c(0:10))))
project$binary <- unlist(lapply(project$variable,function(x) any(x==c(0:10))))
(sapply(project$variable,function(x) any(x==c(0:10))))
c <- (sapply(project$variable,function(x) any(x==c(0:10))))
c
dim(c)
`length(c`
`length(c`)
`length(c)
(sapply(project$variable,function(x) (x==c(0:10))))
class(sapply(project$variable,function(x) (x==c(0:10))))
project$binary <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)
project$binary <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf(.$binary)
project$binary <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,binary='info',value)
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)
rm(project)
View(project_details)
View(project_details)
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)%>%
filter(value!='')
rm(project)
View(project_details)
View(project_details)
project_details$value[8]
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)%>%
filter(value!=' ')
rm(project)
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)%>%
filter(value!=' ')
rm(project)
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)%>%
filter(value!=' ')
rm(project)
project_details
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)%>%
filter(value!=' ')
rm(project)
print(project_details)
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
knitr::opts_knit$set(root.dir = "C:/Users/Declan/Desktop/Data/R/Streetlight/Streetlight/TH_36_Manning_Expanded_Updated_8041_Travel")
library(tidyverse)
library(lubridate)
library(gridExtra)
library(reshape2)
library(zoo)
library(rgdal)
library(readtext)
dir()
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)%>%
filter(value!=' ')
rm(project)
# print(project_details)
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)%>%
filter(value!=' ')
rm(project)
print(project_details)
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)%>%
filter(value!=' ')
rm(project)
print(project_details)
mf_com <- read.csv("TH_36_Manning_Expanded_8041_mf_commercial.csv",stringsAsFactors = FALSE)
str(mf_com)
hist(mf_com$Avg.Trip.Duration..sec.)
### change variable to numeric
mf_com$Avg.Trip.Duration..sec. <-  as.numeric(mf_com$Avg.Trip.Duration..sec.)
hist(mf_com$Avg.Trip.Duration..sec.)
hist(mf_com$Avg.Trip.Duration..sec.,breaks = 200)
table(is.na(mf_com$Avg.Trip.Duration..sec.))
mf_com[sample(mf_com$Avg.Trip.Duration..sec.==NA),]
mf_com[mf_com$Avg.Trip.Duration..sec.==NA,][sample(nrow(mf_com),3),]
mf_com[is.na(mf_com$Avg.Trip.Duration..sec.),][sample(nrow(mf_com),3),]
mf_com[is.na(mf_com$Avg.Trip.Duration..sec.),][sample(nrow(is.na(mf_com$Avg.Trip.Duration..sec.)),3),]
mf_com[is.na(mf_com$Avg.Trip.Duration..sec.),][sample(nrow(mf_com),3),]
head(mf_com[is.na(mf_com$Avg.Trip.Duration..sec.),])
tail(mf_com[is.na(mf_com$Avg.Trip.Duration..sec.),])
knitr::opts_knit$set(root.dir = "C:/Users/Declan/Desktop/Data/R/Streetlight/Streetlight/TH_36_Manning_Expanded_Updated_8041_Travel")
library(tidyverse)
library(lubridate)
library(gridExtra)
library(reshape2)
library(zoo)
library(rgdal)
library(readtext)
library(leaflet)
library(circlize)
library(rgeos)
dir()
project <- read.table("Project_OD_MF.txt",sep='\n',stringsAsFactors = FALSE)%>%
separate(V1,c('variable','value'),':')
project$Info <- ifelse(unlist(lapply(project$variable,function(x) any(x==c(0:10))))==TRUE,NA,project$variable)%>%
na.locf()
project_details <- select(project,Info,value)%>%
filter(value!=' ')
rm(project)
print(project_details)
mf_com_name <- dir()[grepl("*_mf_commercial.csv",dir())][1]
mf_com <- read.csv(mf_com_name,stringsAsFactors = FALSE)
str(mf_com)
### change variable to numeric
mf_com$Avg.Trip.Duration..sec. <-  as.numeric(mf_com$Avg.Trip.Duration..sec.)
hist(mf_com$Avg.Trip.Duration..sec.,breaks = 200)
table(is.na(mf_com$Avg.Trip.Duration..sec.))
head(mf_com[is.na(mf_com$Avg.Trip.Duration..sec.),])
tail(mf_com[is.na(mf_com$Avg.Trip.Duration..sec.),])
mf_pers_name <- dir()[grepl("*_mf_personal.csv",dir())][1]
mf_pers <- read.csv(mf_pers_name,stringsAsFactors = FALSE)
dir()
str(mf_pers)
### change variable to numeric
mf_pers$Avg.Trip.Duration..sec. <-  as.numeric(mf_pers$Avg.Trip.Duration..sec.)
hist(mf_pers$Avg.Trip.Duration..sec.,breaks = 200)
table(is.na(mf_pers$Avg.Trip.Duration..sec.))
mf_pers_melt <- melt(mf_pers,measure.vars = colnames(mf_pers)[2:15],id.vars = colnames(mf_pers)[c(1,16:22)])
mf_pers_melt$group <- ifelse(grepl("Origin",mf_pers_melt$variable),"From",
ifelse(grepl("Middle",mf_pers_melt$variable),"Through",
ifelse(grepl("Destination",mf_pers_melt$variable),"To",NA)))
mf <- rbind(mf_pers_melt,mf_com_melt)
# Run the application
shinyApp(ui = ui, server = server)
library(shiny)
runApp('C:/Users/Declan/Desktop/R/Shiny/Streetlight')
runApp('C:/Users/Declan/Desktop/Data/R/Shiny example/ShinyWaveform')
install.packages("plotly")
runApp('C:/Users/Declan/Desktop/Data/R/Shiny example/ShinyWaveform')
runApp('C:/Users/Declan/Desktop/R/Shiny/Streetlight')
install.packages("shinyFiles")
library(shiny)
library(shinyFiles)
library(shiny)
library(shinyFiles)
library(tidyverse)
library(plotly)
library(magrittr)
library(reshape2)
library(lubridate)
runApp('C:/Users/Declan/Desktop/R/Shiny/Streetlight')
update.packages(shiny)
install.packages("shiny")
install.packages("shiny")
shiny::runApp('C:/Users/Declan/Desktop/R/Shiny/Streetlight')
library(shiny)
ui <- fluidPage(
)
server <- function(input, output, session) {
}
shinyApp(ui, server)
runApp('C:/Users/Declan/Desktop/R/Shiny/Streetlight')
runApp('C:/Users/Declan/Desktop/Data/R/Streetlight/Streetlight/Streetlight')
shinyFilesExample()
runApp('C:/Users/Declan/Desktop/Data/R/Streetlight/Streetlight/Streetlight')
